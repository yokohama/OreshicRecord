# シェルのTTY昇格

リバースシェル獲得後、TTYが割り当てられておらず補完や制御文字が使えないなどの操作性が悪い場合、TTYを割り当ててインタラクティブシェルに昇格させる。

1. リバースシェル内で以下を実行

```bash
python -c 'import pty; pty.spawn("/bin/bash")'

# リバースシェルをバックグラウンドに移行
^Z
```


2. 攻撃マシンに戻るので以下を実行

```
stty raw -echo; fg
```

3. fgによりまたリバースシェルに戻るので、リバースシェル内で以下を実行

```
export TERM=xterm
```
